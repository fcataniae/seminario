<div class="container">
  <h3>Modificar usuario</h3>
  <form class="form"
        #modificarusuario="ngForm"
        (ngSubmit)="onSubmit()">


    <div>
      <label for="nombre">Nombre de usuario</label>
      <input type="text"
             name="nombreUsuario"
             placeholder="nombre de usuario"
             id="nombreUsuario"
             class="form-control "
             [(ngModel)]="usuario.nombreUsuario"
             #nombre="ngModel"
             disabled
             required/>
    </div>
      <label for="cambiarContrasenia" *ngIf="!cambiaContrasenia">
          Cambiar contraseña
      <input type="checkbox"
              name="cambiarContrasenia"
              id="cambiarContrasenia"
              [disabled]="cambiaContrasenia"
              (change)="onChangeContrasenia()"/>
      </label>
      <label for="asignarRoles" *ngIf="!asignarRoles">
          Asignar roles
      <input type="checkbox"
              name="asignarRoles"
              id="asignarRoles"
              [disabled]="asignarRoles"
              (change)="onChangeAsignarRoles()"/>
      </label>
    <h4 *ngIf="cambiaContrasenia">Cambiar Contraseña</h4>
    <div *ngIf="cambiaContrasenia">

      <label for="pass">Ingrese su nueva contraseña</label>
      <input type="password"
             name="pass"
             placeholder="contraseña"
             id="pass"
             class="form-control "
             [(ngModel)]="usuario.password"
             #pass="ngModel"
             pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
             required
             [disabled]="!cambiaContrasenia"
             />
    </div>
    <div *ngIf="cambiaContrasenia">
      <label for="pass2">Confirmar su nueva contraseña </label>
      <input type="password"
             name="pass2"
             placeholder="vuelva a ingresar su contraseña"
             id="pass2"
             class="form-control "
             [(ngModel)]="passwordCheck"
             #pass2="ngModel"
             pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
             required
             [disabled]="!cambiaContrasenia"
             />
    </div>
    <div *ngIf="asignarRoles">
      <select >
          <option *ngFor="let rol of rolesNoAsignados">{{rol.nombre}}</option>
      </select>
      <select >
          <option *ngFor="let rol of rolesAsignados">{{rol.nombre}}</option>
      </select>
    </div>
    <button class="btn-wlm"
            type="submit"
            [disabled]="(passwordCheck !== usuario.password) || !modificarusuario.valid">
      Confirmar
    </button>

  </form>


</div>
